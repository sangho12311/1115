# 블록체인

- 블록체인
	- 블록 + 체인
	- 데이터베이스
- 블록
	- 오직 `Append`만 가능 (편집, 삭제가 불가능)
	- DB에 정보를 추가하는 방법
	- 비트코인의 경우 10분마다 블록이 생성됨
	- 블록의 정보
		- 블록의 해시
			- 이전 블록의 해시 + 데이터를 해시
		- 이전 블록의 해시
		- 데이터
			- 비트코인의 경우 트랜잭션(거래내역)
	- 모든 블록은 이전의 해시와 연결되어 있음 (체인)
		- 이 특성으로 인해 이전의 블록의 데이터를 수정하려고 하면, 이후의 모든 블록에 영향을 미치게 됨
- 탈중앙화
	- 특정 개인이 DB를 관리할 수 없음
	- 모두가 DB의 복제본을 가지고 있음
- 해시
	- 단방향 함수
	- 항상 같은 결과를 만들어냄
- 작업증명
	- 블록체인 네트워크에서 합의를 통해 체인에 새 블록을 생성하는 합의 메커니즘
	- 전기 에너지를 디지털 블록체인상의 가중치로 변환시키는 시스템
	- 위조할 수 없는 높은 생산 비용을 부여
	- 길게 연결된 체인의 모든 해시값을 해커가 연속적으로 변경할 수 있기 때문에, 이를 방지하고자 하나의 블록의 생성에 일부러 많은 자원을 소모시키도록 만듬
	- 어떤 데이터가 블록체인에 추가될 수 있는가?
		- 우리가 원하는 데이터는 `true`여야 함
		- 이를 위해 작업증명이 필요
	- 채굴자
		- 블록체인에 들어오는 데이터를 확인함
		- 데이터를 바꿀 수 없고 오직 검증만 할 수 있음
		- 데이터를 블록에 넣어서 블록체인에 보내는 역할을 함
	- Nonce
		- 채굴자가 구해야 하는 값
		- 미리 정해진 `n`개의 0으로 시작하는 해시를 만들기 위해 필요한 nonce를 구해야 함
	- 질문은 아주 복잡함: Nonce를 직접 구해야 하므로
	- 반면 검증은 아주 간단함: 해당 Nonce로 확인만 하면 되므로
- 51% 공격

- 비트코인
	- coinbase transaction
		- 채굴자가 블록을 체인에 올릴 때 비트코인이 새롭게 생성됨
		- 이는 4년마다 반감기가 옴
		- 비트코인은 2100만개로 한정되어 있기 때문
	- 대략 매 10분마다 블록을 새롭게 생성함
		- 그렇게 되게끔 작업증명 난이도를 올림

- 이더리움
	- 스마트 컨트랙을 위해 만들어진 블록체인 시스템
- 스마트 컨트랙
	- 블록체인에 저장된 프로그램 (일종의 계약)
	- 변경 불가능
	- 분산되어 있음

- 이더리움 토큰 (스마트 컨트랙)
	- 돈을 받으면 -> 토큰을 보내준다

블록체인 기술은 정보를 투명하게 공유할 수 있도록 하는 데이터베이스 메커니즘으로, 블록체인 데이터베이스는 연쇄적으로 연결된 블록에 데이터를 저장한다. 네트워크의 합의 없이는 체인을 삭제하거나 수정할 수 없으며, 이 때문에 모든 데이터는 시간 순서대로 일관성을 가진다.

그 결과 블록체인 기술을 사용하면 주문, 결제, 계정, 기타 트랜잭션을 추적하기 위해 변경 불가능한 원장을 만들어 낸다.

https://www.youtube.com/watch?v=SSo_EIwHSd4
https://www.youtube.com/watch?v=ZE2HxTmxfrI
https://www.youtube.com/watch?v=bBC-nXj3Ng4

# P2P

- Peer to Peer의 줄임말로, 중앙 서버를 거치지 않고 클라이언트가 직접 통신하는 방식을 통칭
- 일반적으로 쌍방향 파일 전송 시스템을 가리킴
- 블록체인 네트워크 역시 P2P 방식이라고 할 수 있음
	- 블록체인은 중앙관리자를 통해 체인을 유지하지 않고, P2P를 이용함
	- 누구나 이 네트워크에 참여하면 전체 블록체인을 복사해옴
	- 각 노드는 이 방식으로 각자의 블록체인 전체가 유효한지를 검증